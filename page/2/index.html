<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>SkyHive's Blog</title><meta name="author" content="SkyHive"><meta name="copyright" content="SkyHive"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="莫听穿林打叶声，何妨吟啸且徐行"><meta property="og:type" content="website"><meta property="og:title" content="SkyHive&#39;s Blog"><meta property="og:url" content="https://skyhive.github.io/page/2/index.html"><meta property="og:site_name" content="SkyHive&#39;s Blog"><meta property="og:description" content="莫听穿林打叶声，何妨吟啸且徐行"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://skyhive.github.io/uploads/avatar.jpg"><meta property="article:author" content="SkyHive"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://skyhive.github.io/uploads/avatar.jpg"><script type="application/ld+json"></script><link rel="shortcut icon" href="/"><link rel="canonical" href="https://skyhive.github.io/page/2/index.html"><link rel="preconnect" href="https://cdn.staticfile.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="83MwLF836at8faxuiJfSi7o6lPaQSRy2GAPO6kCY1BM"><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.staticfile.net/font-awesome/6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.net/node-snackbar/0.1.16/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.staticfile.net/fancyapps-ui/6.0.33/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":"enable","top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: SkyHive","link":"链接: ","source":"来源: SkyHive's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.staticfile.net/egjs-infinitegrid/4.12.0/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"SkyHive's Blog",isHighlightShrink:!1,isToc:!1,pageType:"home"}</script><link rel="stylesheet" href="https://fontsapi.zeoseven.com/442/main/result.css"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="SkyHive's Blog" type="application/atom+xml"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')</script><link rel="stylesheet" href="https://cdn.staticfile.net/pace/1.2.4/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.staticfile.net/pace/1.2.4/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/uploads/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-clock"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image:url(https://blogpic.skyhive.tech/pic/banner/john-towner.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">SkyHive's Blog</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-clock"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">SkyHive's Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/skyhive" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:skyhive35@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a><a class="social-icon" href="https://blog.skyhive.tech/atom.xml" target="_blank"><i class="fas fa-rss"></i></a><a class="social-icon" href="https://www.xiaohongshu.com/user/profile/6723a94c000000001d02d7db" target="_blank" title="Red Note"><i class="fas fa-book" style="color:#d70000"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/9411b67b.html" title="基于 CentOS 安装 KVM">基于 CentOS 安装 KVM</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-10T09:40:03.000Z" title="发表于 2020-06-10 17:40:03">2020-06-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/KVM/">KVM</a></span></div><div class="content">¶ 安装操作系统 UEFI 引导或者 Legacy BIOS 引导均可，冲就完事了 ¶ 安装 KVM 及其依赖 ## 先把源换了 yum install -y wget mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo yum makecache ## 安装 epel 源 yum install -y epel-release ## 安装 KVM 以及依赖服务 yum install ntp kvm virt-manager virt-top qemu-kvm qemu-kvm-tools libvirt git vim htop systemctl start libvirtd systemctl enable libvirtd ## 配置 NTP vim /etc/ntp.conf -----...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/77d7dd4e.html" title="Gitlab EE 版本破解">Gitlab EE 版本破解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-24T15:24:01.000Z" title="发表于 2020-05-24 23:24:01">2020-05-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/gitlab/">gitlab</a></span></div><div class="content">¶ 环境信息 Ubuntu 16.04 Ruby 环境（Version ≥2.5） 配合 Gitlab 单节点服务搭建 食用更好 ¶ 破解过程 ¶ 安装依赖 ## 确认 ruby 版本最低为 2.5，否则需要升级 sudo apt-add-repository ppa:brightbox/ruby-ng sudo apt update sudo apt install ruby2.5 ruby2.5-dev ## 安装 gitlab ruby 环境依赖 sudo gem install gitlab sudo gem install gitlab-license sudo gem install openssl ¶ 签名 创建 license.rb 文件，并写入一下内容 require 'openssl' require 'gitlab/license' # Generate a key pair. You should do this only once. key_pair = OpenSSL::PKey::RSA.generate(2048) # W...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/e4bc9b91.html" title="DNS 缓存清理">DNS 缓存清理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-01T04:34:22.000Z" title="发表于 2020-04-01 12:34:22">2020-04-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/DNS/">DNS</a></span></div><div class="content">¶Windows 下清理 # 管理员身份运行 cmd ipconfig /flushdns ¶Linux 下清理 Linux DNS 缓存和 Windows 有些许不同，大部分的 Linux 是没有系统级缓存的，所以通过一些进程便可以达到清理 DNS 缓存的目的以下一份来自 StackOverflow 的解答： On Linux (and probably most Unix), there is no OS-level DNS caching unless nscd is installed and running. Even then, the DNS caching feature of nscd is disabled by default at least in Debian because it’s broken. The practical upshot is that your linux system very very probably does not do any OS-level DNS caching. You can look around ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/9fe434cf.html" title="EXT4 文件系统缩容">EXT4 文件系统缩容</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-10-31T04:32:00.000Z" title="发表于 2019-10-31 12:32:00">2019-10-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/filesystem/">filesystem</a></span></div><div class="content">由于 XFS 文件系统不支持缩容，所以这里只讨论 EXT4 缩容的情况。 EXT4 文件系统调整的命令为 resize2fs，在使用这个命令前，我们需要将我们需要缩容的文件系统所在分区进行调整，由于 LVM 的调整相对简单，这里不做描述。 如果需要调整的分区非系统盘，则可以直接先卸载已挂载的文件系统，然后进行操作；若需要调整的分区在系统盘上，则需要进入 LiveCD 的 shell 环境进行操作。 sudo -i ## 文件系统缩容 e2fsck -f /dev/sda4 resize2fs /dev/sda4 &lt;想要变成的大小&gt;（如 200G） ## 缩小分区 fdisk /dev/sda # 键入 p 查看当前分区信息，记下要缩小的分区的 start 值 # 键入 d 选择要删除的分区 # 键入 n 新建分区，确认 start 值为刚刚原分区记录下来的 start 值 # end 设置为 +&lt;你想要的大小&gt;（如 +200G） # 键入 p 确认分区大小没有问题后，键入 w 保存退出 # 重新 re...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/dfc3ccac.html" title="Gitlab 单节点服务搭建">Gitlab 单节点服务搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-07-25T04:25:01.000Z" title="发表于 2019-07-25 12:25:01">2019-07-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/gitlab/">gitlab</a></span></div><div class="content">¶ 搭建准备 根据官方提供的说法，小规模使用 GitLab 只用单机部署即可，4C8G 的配置足够小一百人使用 Git，由于本次也只是熟悉一下 GitLab 的搭建过程和各组件之间的关系，所以就使用低配的虚拟机进行搭建了。 ¶ 虚拟机配置 CPU 内存 硬盘 4*vCPU 8GB 200GB ¶ 搭建过程 ¶ 安装依赖 sudo apt update sudo apt install curl openssh-server ca-certificates postfix ¶ 搭建服务 wget --content-disposition https://packages.gitlab.com/gitlab/gitlab-ce/packages/ubuntu/xenial/gitlab-ce_12.0.1-ce.0_amd64.deb/download.deb ## 下载官方 deb 包 sudo dpkg -i gitlab-ce_12.0.1-ce.0_amd64.deb ## 卸载原有 nginx sudo apt purge nginx-com...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/a154c72c.html" title="美版 V30 系统升级">美版 V30 系统升级</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2018-10-05T04:52:41.000Z" title="发表于 2018-10-05 12:52:41">2018-10-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Android/">Android</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/network/">network</a></span></div><div class="content">关于国行版本的 Andorid 手机的系统升级，肯定是没有什么问题的，连了网升就完事儿了；但是非国行版本的呢？会有一点小问题。 前两天刚入手了一款次次旗舰 LG V30，去年的旗舰 835，4+64 的配置今年已然跌倒了千元来搞基的价位，果断入手了。说是要搞基，但是作为一个老年人，实在是懒得折腾了，某鱼的老板说韩版卖断货了，近期只有一款美版的 H932 支持移动全频段，就入手了。 到手稍微检查了一下，一切正常，梯子挂上美滋滋，但是出现了一个奇怪的问题 —— 系统更新下载不下来。当时的网络状态是挂了梯子的，但是由于 Google 在系统上做的一些安全机制，导致挂了梯子（即网络流量被监控）的机器的系统更新了的流量不从梯子上走，所以会一直卡在 System Update Downloading。 解决的办法有三个： 肉身翻墙 路由器翻墙 用一台翻墙的机器将网络共享给你的手机 前两个方法对于大多数人来说还是比较困难的，正常人一般都是直接挂梯子，路由器翻墙虽然很多人家里都有设置，但是如果是在公共网络环境下的话，只能使用第三种方法（刷机除外）。 步骤很简单： 一台机器挂...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/2a7a180a.html" title="修改 sudoers 文件导致 sudo 无法使用的解决办法">修改 sudoers 文件导致 sudo 无法使用的解决办法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2018-08-08T14:09:41.000Z" title="发表于 2018-08-08 22:09:41">2018-08-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">之前因为修改过 /etc/sudoers 文件，有个地方语法错误，导致修改完成之后 sudo 命令无法使用 网上搜过很多解决办法，大都是重启进入单用户模式，以 Root 用户的身份修改 sudoers 文件，解决原本的语法错误。但是这个方法的硬条件是需要重启进入单用户模式，但是有的时候我们是以 ssh 的方式登录到 LInux 机器上去的，所以相应的也会有不需要重启的操作就能解决这种问题，当然这种操作也有一个硬条件 ——Linux 上已经安装了 Pkttyagent 和 pkexec，我并不知道这两个软件是不是所有 Llinux 系统都预装，所以大家都自己拿捏一下。 那么进入正题 首先，我们需要开两个 session 连接到 Linux 机器上 第一步：在以第一个 session 上输入 echo $$ 得到你目前 Bash 的 PID。 第二步：在第二个 session 上输入 pkttyagent --process pid #这里的pid是上一步获取到的，直接复制过来就好了 第三步：回到第一个 session 中，输入 pkexec visudo 第四步：回到第二个 ses...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/9c2f7ad8.html" title="解决 Ubuntu 下搜狗拼音候选词乱码">解决 Ubuntu 下搜狗拼音候选词乱码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2018-05-29T05:15:26.000Z" title="发表于 2018-05-29 13:15:26">2018-05-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Ubuntu/">Ubuntu</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">今天 Ubuntu 系统下的搜狗拼音突然抽疯了，中文输入的时候候选词区域都是全是一串无意义的英文字母，不知道是不是因为对 Linux 系统的支持问题还是怎么回事，解决办法也很简单，就是删除搜狗的配置文件，重新登录就好了，只是需要重新设置原来的配置 cd ~/.config rm -rf SogouPY* sogou* 别忘了注销再登录哦</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/93f970d9.html" title="关于 Ubuntu 循环登录界面">关于 Ubuntu 循环登录界面</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2018-04-20T04:36:21.000Z" title="发表于 2018-04-20 12:36:21">2018-04-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Ubuntu/">Ubuntu</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">其实事情的起因很奇怪，前两天一直想升级 Ubuntu 18.04，不知道为什么 17.10 用着怪怪的，但是 18.04 又要到 4 月 26 号才发布，没有办法了只能 Beta 2 先用着试试了。 然后就是一顿正常的操作 ¶ 从 Ubuntu 17.10 升级到 18.04 Beta 2 # 先将当前系统更新 sudo apt update sudo apt upgrade #然后升级系统 sudo do-release-upgrade -d 然后就让系统自己去下载安装了，不过中途我在终端提示中看到了某个什么东西不可用，当然我也没有在意，估计更新到了正式版系统就没事了吧，结果这就埋下了伏笔。 ¶ 卡在了启动界面 没错，就是那个带着 Ubuntu logo，然后 logo 下面还有几个小点点的那个界面，卡的死死的。ESC 之后显示的状态应该是这样的 [Started] Gnome Display Manage 然后我当机立断的去 Google 了一下，不知道在哪里看到了一个答案是要进 Recovery mode 修复一下 dpkg，做完之后我觉得这并不够，开在启动界面的事情我第...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/691098d6.html" title="初探 Django 需要注意的事项">初探 Django 需要注意的事项</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2018-03-25T12:55:33.000Z" title="发表于 2018-03-25 20:55:33">2018-03-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Python/">Python</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Django/">Django</a></span></div><div class="content">¶ 更改默认数据库为 MySQL Django 使用的默认数据库是 SQLite3，如果习惯使用的是 SQLite 的用户就可以不必更换数据库。 更换数据库的话在 settings.py 文件中 DATABASES 选项中进行更改 DATABASES = { 'default': { 'ENGINE': 'django.db.backends.mysql', 'NAME': '项目对应的数据库名称', 'USER': '登录mysql的帐户', 'PASSWORD': '登录mysql的密码', 'HOST': '127.0.0.1', #由于是在本地开发，所以是127.0.0.1 'PORT': '3306' #这里mysql使用的是默认的3306端口 } } ¶ 设置 Templates 的路径 在 settings.py 文件中的 TEMPLATES 选项中进行设置 'DIRS': [os.path.join(BASE_DIR, 'templates')] 其中...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/cc074592.html" title="配置 SSH 免密登录遇到的坑">配置 SSH 免密登录遇到的坑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-12-08T03:12:43.000Z" title="发表于 2017-12-08 11:12:43">2017-12-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">最近在学校做一个云计算大赛，需要搭建一个 hadoop 的平台，中途遇到一个小插曲遂记录下来。 由于搭建过程中需要四台服务器能够互相免密访问，我们需要将四台服务器的公钥互相上传到各个机器，首先运行 ssh-keygen -t rsa 然后一直回车，最后会在你主目录下生成一个.ssh 目录，其中的 id_rsa 是你的密钥，id_rsa.pub 是你要上传的公钥，known_hosts 是你连接过的主机的信息 我们需要在.ssh 目录下建立一个 authorized_keys 文件，将各个主机的公钥信息存储在该文件下，然后各个主机就可以通过 ssh 免密登录了，至于具体的原理，大家可以网上自行科普一下，无非是一些加密解密的过程。 然而就在我以为万无一失的时候，造化弄人，我不管怎么搞都需要输密码，试过改 ssh 的配置文件也无法解决，最后 Google 到一个解决方法，说是目录的和文件的权限问题，.ssh 目录的权限必须得是 700，而文件 authorized_keys 的权限必须是 644，而我当时是 664，这才导致无法进行免密登录，这里大家需要注意一下权限的问题，即使权限放大...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/8164914c.html" title="Hadoop 简介">Hadoop 简介</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-11-17T12:56:31.000Z" title="发表于 2017-11-17 20:56:31">2017-11-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Hadoop/">Hadoop</a></span></div><div class="content">¶Hadoop 介绍 Hadoop 是 Apache 组织的一个分布式计算框架（java 语言），其最核心的设计就是：HDFS 和 MapReduce，HDFS 实现存储，MapReduce 实现原理分析处理。 ¶HDFS 文件系统 HDFS（Hadoop Distributed File System）是一个高度容错的系统，适合部署在廉价的机器上。HDFS 能提供高吞吐量的数据访问，适合那些有着超大数据集的应用程序。 ¶ 设计特点 大数据文件，适合大文件或者一堆大数据文件 文件分块存储，HDFS 会将一个完整的大文件平均分块存储到不同计算机上 流式数据访问，一次写入多次读写，和传统文件不同，它不支持动态改变文件内容，而是要求让文件一次写入就不做变化，要变化只能在文件末尾添加 廉价硬件 备份，为防止某个主机失效读取不到该主机的块文件，它将同一个文件块副本分配到其他某几个主机上 ¶Master / Slave 架构 一个 HDFS 集群是有一个 Namenode 和一定数目的 Datanode 组成。Namenode 作为中心服务器负责管理文件系统的 na...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/b6c47025.html" title="队列">队列</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-10-15T02:57:44.000Z" title="发表于 2017-10-15 10:57:44">2017-10-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span></div><div class="content">¶ 队列 队列是一种可以实现先进先出 (first in first out,FIFO) 的存储结构。与栈不一样的是，队列规定只在一端进行插入操作，在另一端进行删除操作。允许插入的一端叫做队尾 (rear)，允许删除的一端叫做队首 (front)。 ¶ 分类 链式队列：用链表实现。 静态队列：用数组实现。(为了解决假溢出现象，静态队列通常都必须是循环队列) ¶ 循环队列 ¶ 参数：front、rear rear 所指的单元始终为空 队列初始化：front 和 rear 的值都是 0。 队列非空：front 指向队列的第一个元素；rear 指向队列的最后一个有效元素的下一个元素。 队列空：front 和 rear 值相等，但不一定是 0。 ¶ 算法解析 1. 入队：将值存入 rear 所代表的位置 r 错误写法：r=r+1 正确写法：r=(r+1)%数组长度 2. 出队： f=(f+1)%数组长度 3. 判断循环队列是否为空 rear = front 4. 判断循环队列是否已满 多增加一个参数标志满或者空（一般不用此方式） 少...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/1f4ac2fb.html" title="栈">栈</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-10-11T05:18:27.000Z" title="发表于 2017-10-11 13:18:27">2017-10-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span></div><div class="content">栈是一种先进后出的线性数据结构，规定只允许在一端进行插入和删除元素的操作。其中进栈操作又叫做压栈（Push），出栈操作又叫做弹出（Pop）。允许进行操作的一端叫做栈顶（top），另一端叫做栈底（base）。 ¶ 分类 顺序栈：数组实现 链式栈：链表实现 ¶ 代码实现 ¶ 顺序栈 1. 构建栈的结构 #define MAXSIZE 1024 //定义栈的空间大小 typedef struct stack{ int data[MAXSIZE]; int top; }Stack; 2. 初始化 Stack *Init(){ Stack stack; stack = (Stack*)malloc(sizeof(Stack)); if(!stack){ printf("Memory allocation failed!"); return NULL; } else{ stack-&gt;top = -1; //C语言数组下标从0开始 printf("Init succes...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/3d308a66.html" title="搭建属于自己的 Shadowsocks 服务">搭建属于自己的 Shadowsocks 服务</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2017-08-11T04:52:41.000Z" title="发表于 2017-08-11 12:52:41">2017-08-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Tech/">技术相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/network/">network</a></span></div><div class="content">最近一直想自己搭一个 Shadowsocks 服务，并且利用服务器学习一些技术知识，但是国内的服务器实在是贵得很啊，像我这种苦逼大学生根本玩不起，无奈之下只好各种 Google 百度，最后找到了一些国外的 VPS 资源 BandwagonHost(搬瓦工 VPS)：据观察搬瓦工这个 VPS 还是算计比较便宜的，年付 $20 ，平均下来每个月只有 $1.6，而且套餐很良心很良心，512MB 的内存，10GB 的 SSD，1TB 的流量是不是比国内很多主机都划算的很。 Vultr: 同样也是 SSD VPS, 这个套餐看起来也还是很不错的，只不过每月两刀的套餐总是能被抢空。 Digital Ocean：也是我目前正在使用的，大家可以点击此链接注册，通过这个优惠链接注册的小伙伴们会直接获得 $10 的额度在你的账户余额里。而且他的这个套餐也是很诱人的，同样的 SSD VPS，20G 硬盘，每月 1TB 流量，1G 的带宽，只不过这个费用看起来太贵了，一个月需要 $5。 但是事情有这么简单吗？ 当然没有，鼎鼎大名的 gayhub 上有个提供给学生的 pack，...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/uploads/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">SkyHive</div><div class="author-info-description">菜鸡运维一枚</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" href="https://github.com/skyhive"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/skyhive" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:skyhive35@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a><a class="social-icon" href="https://blog.skyhive.tech/atom.xml" target="_blank"><i class="fas fa-rss"></i></a><a class="social-icon" href="https://www.xiaohongshu.com/user/profile/6723a94c000000001d02d7db" target="_blank" title="Red Note"><i class="fas fa-book" style="color:#d70000"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的小站，这里会分享我的一些技术总结，以及生活日常~</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/3bd9168d.html" title="2025 大马榴莲季全攻略">2025 大马榴莲季全攻略</a><time datetime="2025-07-14T15:07:47.000Z" title="发表于 2025-07-14 23:07:47">2025-07-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/58a7bd86.html" title="2025 青甘大环线游记">2025 青甘大环线游记</a><time datetime="2025-06-22T01:57:54.000Z" title="发表于 2025-06-22 09:57:54">2025-06-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/1812e504.html" title="甲状腺乳头状癌治疗始末">甲状腺乳头状癌治疗始末</a><time datetime="2024-10-29T03:50:27.000Z" title="发表于 2024-10-29 11:50:27">2024-10-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/2069fb37.html" title="工欲善其事之趁手的终端">工欲善其事之趁手的终端</a><time datetime="2024-10-14T11:49:31.000Z" title="发表于 2024-10-14 19:49:31">2024-10-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/1b4b0584.html" title="槟城旅行指北">槟城旅行指北</a><time datetime="2024-09-02T13:50:32.000Z" title="发表于 2024-09-02 21:50:32">2024-09-02</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline"><i class="fas fa-folder-open"></i> <span>分类</span></div><ul class="card-category-list" id="aside-cat-list"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/Think/"><span class="card-category-list-name">思考感悟</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/Tech/"><span class="card-category-list-name">技术相关</span><span class="card-category-list-count">37</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/Life/"><span class="card-category-list-name">生活相关</span><span class="card-category-list-count">5</span></a></li></ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/terminal/" style="font-size:1.1em;color:#999">terminal</a> <a href="/tags/homelab/" style="font-size:1.1em;color:#999">homelab</a> <a href="/tags/MySQL/" style="font-size:1.34em;color:#99a3b0">MySQL</a> <a href="/tags/OSS/" style="font-size:1.18em;color:#999ca1">OSS</a> <a href="/tags/gitlab/" style="font-size:1.18em;color:#999ca1">gitlab</a> <a href="/tags/%E9%9D%92%E7%94%98%E5%A4%A7%E7%8E%AF%E7%BA%BF/" style="font-size:1.1em;color:#999">青甘大环线</a> <a href="/tags/%E7%94%B2%E7%8A%B6%E8%85%BA/" style="font-size:1.1em;color:#999">甲状腺</a> <a href="/tags/%E6%97%85%E8%A1%8C%E6%8C%87%E5%8D%97/" style="font-size:1.1em;color:#999">旅行指南</a> <a href="/tags/%E9%87%8D%E5%BA%86/" style="font-size:1.1em;color:#999">重庆</a> <a href="/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size:1.1em;color:#999">年度总结</a> <a href="/tags/PHP/" style="font-size:1.1em;color:#999">PHP</a> <a href="/tags/acme/" style="font-size:1.1em;color:#999">acme</a> <a href="/tags/DNS/" style="font-size:1.1em;color:#999">DNS</a> <a href="/tags/filesystem/" style="font-size:1.1em;color:#999">filesystem</a> <a href="/tags/Arch/" style="font-size:1.1em;color:#999">Arch</a> <a href="/tags/Django/" style="font-size:1.1em;color:#999">Django</a> <a href="/tags/Android/" style="font-size:1.1em;color:#999">Android</a> <a href="/tags/%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B/" style="font-size:1.1em;color:#999">工欲善其事</a> <a href="/tags/linux/" style="font-size:1.5em;color:#99a9bf">linux</a> <a href="/tags/NAS/" style="font-size:1.1em;color:#999">NAS</a> <a href="/tags/%E6%A6%B4%E8%8E%B2/" style="font-size:1.18em;color:#999ca1">榴莲</a> <a href="/tags/Network/" style="font-size:1.1em;color:#999">Network</a> <a href="/tags/hexo/" style="font-size:1.26em;color:#999fa8">hexo</a> <a href="/tags/%E7%99%8C%E7%97%87/" style="font-size:1.1em;color:#999">癌症</a> <a href="/tags/%E9%BB%91%E7%BE%A4%E6%99%96/" style="font-size:1.1em;color:#999">黑群晖</a> <a href="/tags/%E8%AF%81%E4%B9%A6/" style="font-size:1.1em;color:#999">证书</a> <a href="/tags/KVM/" style="font-size:1.18em;color:#999ca1">KVM</a> <a href="/tags/network/" style="font-size:1.26em;color:#999fa8">network</a> <a href="/tags/nginx/" style="font-size:1.18em;color:#999ca1">nginx</a> <a href="/tags/%E5%A4%A7%E8%A5%BF%E5%8C%97/" style="font-size:1.1em;color:#999">大西北</a> <a href="/tags/Python/" style="font-size:1.26em;color:#999fa8">Python</a> <a href="/tags/Ubuntu/" style="font-size:1.42em;color:#99a6b7">Ubuntu</a> <a href="/tags/ESXi/" style="font-size:1.18em;color:#999ca1">ESXi</a> <a href="/tags/%E9%A9%AC%E6%9D%A5%E8%A5%BF%E4%BA%9A/" style="font-size:1.18em;color:#999ca1">马来西亚</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size:1.34em;color:#99a3b0">虚拟化</a> <a href="/tags/apache/" style="font-size:1.1em;color:#999">apache</a> <a href="/tags/env/" style="font-size:1.1em;color:#999">env</a> <a href="/tags/%E4%BC%A4%E7%97%85/" style="font-size:1.1em;color:#999">伤病</a> <a href="/tags/%E6%B8%B8%E8%AE%B0/" style="font-size:1.18em;color:#999ca1">游记</a> <a href="/tags/Hadoop/" style="font-size:1.1em;color:#999">Hadoop</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i> <span>归档</span> <a class="card-more-btn" href="/archives/" title="查看更多"><i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025 </span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025 </span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024 </span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024 </span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024 </span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024 </span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021 </span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021 </span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">43</div></div><div class="webinfo-item"><div class="item-name">运行时间 :</div><div class="item-count" id="runtimeshow" data-publishdate="2017-02-18T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">53.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总浏览量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastpushdate="2025-10-30T03:43:15.722Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2017 - 2025 By SkyHive</span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="https://cdn.staticfile.net/fancyapps-ui/6.0.33/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.staticfile.net/instant.page/5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.staticfile.net/node-snackbar/0.1.16/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('https://cdn.staticfile.net/typed.js/2.1.0/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  },
  processSubtitle: (content, extraContents = []) => {
    if (true) {
      const sub = [].slice()

      if (extraContents.length > 0) {
        sub.unshift(...extraContents)
      }

      if (typeof content === 'string') {
        sub.unshift(content)
      } else if (Array.isArray(content)) {
        sub.unshift(...content)
      }

      sub.length > 0 && typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = typeof content === 'string' ? content :
        (Array.isArray(content) && content.length > 0 ? content[0] : '')
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')</script><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      const from = '出自 ' + data.from
      typedJSFn.processSubtitle(data.hitokoto, [from])
    })
    .catch(err => {
      console.error('Failed to get the Hitokoto API:', err)
      typedJSFn.processSubtitle([])
    })
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.staticfile.net/mermaid/11.12.0/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="https://cdn.staticfile.net/pjax/0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div></body></html>