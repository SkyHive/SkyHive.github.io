---
title: å·¥æ¬²å–„å…¶äº‹ä¹‹è¶æ‰‹çš„ç»ˆç«¯
categories: æŠ€æœ¯ç›¸å…³
tags:
  - terminal
  - env
  - å·¥æ¬²å–„å…¶äº‹
abbrlink: 2069fb37
date: 2024-10-14 19:49:31
---

ä¿—è¯è¯´çš„å¥½ï¼Œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œè¦æƒ³æ´»å¹²å¾—æ¼‚äº®ï¼Œå°±å¾—æœ‰ä¸€ä¸ªè¶æ‰‹çš„å…µå™¨ã€‚å¯¹äºè¿ç»´äººæ¥è¯´ï¼Œä¸€ä¸ªå¥½çš„ Terminalï¼Œç»å¯¹å¯ä»¥å¤§å¤§æ»´æé«˜å·¥ä½œæ•ˆç‡ã€‚

æ›¾ç»çš„æˆ‘æ˜¯ Ubuntu çš„æ— è„‘å¹ã€è„‘æ®‹ç²‰ï¼Œä¸»è¦æ˜¯å‘½ä»¤è¡Œé…åˆç€ä¸€ä¼—å·¥å…·ä½¿ç”¨èµ·æ¥éå¸¸ä¸æ»‘ï¼Œæ•ˆç‡æé«˜ã€‚è€Œåœ¨ Windows ä¸Šé™¤äº†å®‰è£…å„ç§æ‰§è¡Œç¯å¢ƒé…ç½®ç¯å¢ƒå˜é‡å¤–ï¼Œè¿˜éœ€è¦å€ŸåŠ© xShell è¿™ç±»å·¥å…·æ¥å®Œæˆæˆ‘çš„æ—¥å¸¸å·¥ä½œï¼Œè™½ç„¶å½“æ—¶ä¹ŸæŠ˜è…¾è¿‡ä¸€æ®µæ—¶é—´çš„ [`cmder`](https://cmder.app/)ï¼Œä½†å´æ˜¯æ²¡æœ‰åŸç”Ÿ Terminal é¡ºæ»‘ã€‚

å¥½åœ¨å·¨ç¡¬è¿˜æœ‰è‰¯å¿ƒï¼Œæ¨å‡ºäº† [Windows Terminal](https://github.com/microsoft/terminal) å’Œ [WSL](https://github.com/microsoft/WSL)ï¼Œä¸€åº¦è®©æˆ‘ä» Ubuntu è„‘æ®‹ç²‰å˜æˆäº† Windows æ— è„‘å¹~æœ¬æ–‡åˆ™æ˜¯ç”¨æ¥è®°å½•ä¸€ä¸‹æˆ‘è‡ªå·±çš„ç»ˆç«¯é…ç½®ï¼Œå› ä¸ºæˆ‘çš„å·¥ä½œç¯å¢ƒå‡ ä¹æ˜¯è·‘åœ¨ WSL ä¸Šçš„ï¼Œæ‰€ä»¥ Linux å’Œ MacOS å‡å¯å€Ÿé‰´ã€‚

<!--more-->

### å‰ç½®æ“ä½œ

* ä¸€ä¸ª Windows 11 çš„æ“ä½œç³»ç»Ÿ
* ç”µè„‘[å¼€å¯è™šæ‹ŸåŒ–æŠ€æœ¯](https://support.microsoft.com/zh-cn/windows/%E5%9C%A8-windows-%E4%B8%8A%E5%90%AF%E7%94%A8%E8%99%9A%E6%8B%9F%E5%8C%96-c5578302-6e43-4b4b-a449-8ced115f58e1)ï¼ˆé»˜è®¤å·²å¼€å¯ï¼Œæœªå¼€å¯çš„åˆ™éœ€è¦è¿› BIOS ä¸­å¼€å¯è¯¥è®¾ç½®ï¼Œä¸åŒå“ç‰Œçš„ç”µè„‘ä¸ä¸€æ ·ï¼Œè¯·è‡ªè¡Œ Googleï¼‰
* å®‰è£… [Windows Terminal](https://apps.microsoft.com/detail/9n0dx20hk701?hl=en-US&gl=US)ï¼ˆWindows 11 é»˜è®¤å·²å®‰è£…ï¼Œå¦åˆ™è¯·åœ¨ Microsoft Store ä¸­è¿›è¡Œå®‰è£…ï¼‰

### Windows Terminal é…ç½®

è¿™é‡Œå†æ¬¡å¼ºæ¨ Windows ç”¨æˆ·ä½¿ç”¨ Windows Terminalï¼Œå¦‚åŒåˆ«äººæ¨èåœ¨ Mac ä¸­ä½¿ç”¨ iTerm2, åœ¨ Linux ä¸­ä½¿ç”¨ Terminator ä¸€æ ·ï¼ˆè™½ç„¶æˆ‘ç”¨ Ubuntu çš„æ—¶å€™ä¹Ÿä¸å–œæ¬¢ç”¨ Terminator ğŸ˜‚ï¼‰ã€‚
å½“ç„¶è¿‘å¹´æ¥ä¹Ÿæœ‰å¾ˆå¤šå¥½è¯„å¦‚æ½®çš„å¼€æºç»ˆç«¯ï¼ˆå¦‚ [`Tabby`](https://github.com/Eugeny/tabby)ã€[`WindTerm`](https://github.com/kingToolbox/WindTerm) ç­‰ï¼‰ï¼Œä½†æ˜¯ç§‰æ‰¿ç€å¤šä¸€äº‹ä¸å¦‚å°‘ä¸€äº‹çš„åŸåˆ™ï¼Œæ—¢ç„¶ Windows è‡ªå¸¦äº†å¦‚æ­¤å¥½ç”¨çš„ç»ˆç«¯ï¼Œå°±ä¸è´¹åŠ›å»æŠ˜è…¾åˆ«çš„ä¸œè¥¿äº†~

å¯¹äºç»ˆç«¯æ¥è¯´ï¼Œéœ€è¦é…ç½®çš„å†…å®¹æ— éå°±æ˜¯ **é…è‰²ã€å­—ä½“ã€å¿«æ·é”®ã€å¤–è§‚**ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘å½“å‰ä½¿ç”¨çš„ä¸€äº›é…ç½®ï¼š

```json
{
    "$help": "https://aka.ms/terminal-documentation",
    "$schema": "https://aka.ms/terminal-profiles-schema",
    "actions": 
    [
        {
            "command": "paste"
        },
        {
            "command": "unbound",
            "keys": "ctrl+v"
        },
        {
            "command": 
            {
                "action": "copy",
                "singleLine": false
            },
            "keys": "ctrl+c"
        },
        {
            "command": 
            {
                "action": "splitPane",
                "split": "auto",
                "splitMode": "duplicate"
            },
            "keys": "alt+shift+d"
        },
        {
            "command": "find",
            "keys": "ctrl+shift+f"
        }
    ],
    "copyFormatting": "none",
    "copyOnSelect": false,
    "defaultProfile": "{2d17c16e-af5c-4ccf-bcca-796cc19e890b}",
    "newTabMenu": 
    [
        {
            "type": "remainingProfiles"
        }
    ],
    "profiles": 
    {
        "defaults": 
        {
            "colorScheme": "Tango Dark",
            "font": 
            {
                "face": "Maple Mono NF"
            },
            "opacity": 80,
            "useAcrylic": true
        },
        "list": 
        [
            {
                "font": 
                {
                    "face": "Maple Mono NF CN"
                },
                "guid": "{61c54bbd-c2c6-5271-96e7-009a87ff44bf}",
                "hidden": false,
                "name": "Windows PowerShell",
                "opacity": 90,
                "useAcrylic": true
            },
            {
                "font": 
                {
                    "face": "Maple Mono NF CN"
                },
                "guid": "{0caa0dad-35be-5f56-a8ff-afceeeaa6101}",
                "hidden": false,
                "name": "\u547d\u4ee4\u63d0\u793a\u7b26",
                "opacity": 90,
                "useAcrylic": true
            },
            {
                "guid": "{b453ae62-4e3d-5e58-b989-0a998ec441b8}",
                "hidden": false,
                "name": "Azure Cloud Shell",
                "source": "Windows.Terminal.Azure"
            },
            {
                "adjustIndistinguishableColors": "indexed",
                "antialiasingMode": "grayscale",
                "colorScheme": "Tango Dark",
                "commandline": "C:\\Windows\\system32\\wsl.exe -d Ubuntu-20.04",
                "experimental.retroTerminalEffect": false,
                "font": 
                {
                    "face": "Maple Mono NF",
                    "size": 12.0,
                    "weight": "semi-light"
                },
                "guid": "{2d17c16e-af5c-4ccf-bcca-796cc19e890b}",
                "hidden": false,
                "historySize": 10240,
                "icon": "ms-appx:///ProfileIcons/{9acb9455-ca41-5af7-950f-6bca1bc9722f}.png",
                "name": "Ubuntu-20.04",
                "opacity": 80,
                "startingDirectory": "~",
                "useAcrylic": true
            },
            {
                "font": 
                {
                    "face": "Maple Mono NF"
                },
                "guid": "{4dd1e689-b517-5f39-947d-78e8a8bdf958}",
                "hidden": false,
                "name": "Ubuntu 20.04.6 LTS",
                "source": "CanonicalGroupLimited.Ubuntu20.04LTS_79rhkp1fndgsc"
            },
            {
                "guid": "{574e775e-4f2a-5b96-ac1e-a2962a402336}",
                "hidden": false,
                "name": "PowerShell",
                "source": "Windows.Terminal.PowershellCore"
            }
        ]
    },
    "schemes": 
    [
        {
            "background": "#0C0C0C",
            "black": "#0C0C0C",
            "blue": "#0037DA",
            "brightBlack": "#767676",
            "brightBlue": "#3B78FF",
            "brightCyan": "#61D6D6",
            "brightGreen": "#16C60C",
            "brightPurple": "#B4009E",
            "brightRed": "#E74856",
            "brightWhite": "#F2F2F2",
            "brightYellow": "#F9F1A5",
            "cursorColor": "#FFFFFF",
            "cyan": "#3A96DD",
            "foreground": "#CCCCCC",
            "green": "#13A10E",
            "name": "Campbell",
            "purple": "#881798",
            "red": "#C50F1F",
            "selectionBackground": "#FFFFFF",
            "white": "#CCCCCC",
            "yellow": "#C19C00"
        },
        {
            "background": "#012456",
            "black": "#0C0C0C",
            "blue": "#0037DA",
            "brightBlack": "#767676",
            "brightBlue": "#3B78FF",
            "brightCyan": "#61D6D6",
            "brightGreen": "#16C60C",
            "brightPurple": "#B4009E",
            "brightRed": "#E74856",
            "brightWhite": "#F2F2F2",
            "brightYellow": "#F9F1A5",
            "cursorColor": "#FFFFFF",
            "cyan": "#3A96DD",
            "foreground": "#CCCCCC",
            "green": "#13A10E",
            "name": "Campbell Powershell",
            "purple": "#881798",
            "red": "#C50F1F",
            "selectionBackground": "#FFFFFF",
            "white": "#CCCCCC",
            "yellow": "#C19C00"
        },
        {
            "background": "#282C34",
            "black": "#282C34",
            "blue": "#61AFEF",
            "brightBlack": "#5A6374",
            "brightBlue": "#61AFEF",
            "brightCyan": "#56B6C2",
            "brightGreen": "#98C379",
            "brightPurple": "#C678DD",
            "brightRed": "#E06C75",
            "brightWhite": "#DCDFE4",
            "brightYellow": "#E5C07B",
            "cursorColor": "#FFFFFF",
            "cyan": "#56B6C2",
            "foreground": "#DCDFE4",
            "green": "#98C379",
            "name": "One Half Dark",
            "purple": "#C678DD",
            "red": "#E06C75",
            "selectionBackground": "#FFFFFF",
            "white": "#DCDFE4",
            "yellow": "#E5C07B"
        },
        {
            "background": "#FAFAFA",
            "black": "#383A42",
            "blue": "#0184BC",
            "brightBlack": "#4F525D",
            "brightBlue": "#61AFEF",
            "brightCyan": "#56B5C1",
            "brightGreen": "#98C379",
            "brightPurple": "#C577DD",
            "brightRed": "#DF6C75",
            "brightWhite": "#FFFFFF",
            "brightYellow": "#E4C07A",
            "cursorColor": "#4F525D",
            "cyan": "#0997B3",
            "foreground": "#383A42",
            "green": "#50A14F",
            "name": "One Half Light",
            "purple": "#A626A4",
            "red": "#E45649",
            "selectionBackground": "#FFFFFF",
            "white": "#FAFAFA",
            "yellow": "#C18301"
        },
        {
            "background": "#002B36",
            "black": "#002B36",
            "blue": "#268BD2",
            "brightBlack": "#073642",
            "brightBlue": "#839496",
            "brightCyan": "#93A1A1",
            "brightGreen": "#586E75",
            "brightPurple": "#6C71C4",
            "brightRed": "#CB4B16",
            "brightWhite": "#FDF6E3",
            "brightYellow": "#657B83",
            "cursorColor": "#FFFFFF",
            "cyan": "#2AA198",
            "foreground": "#839496",
            "green": "#859900",
            "name": "Solarized Dark",
            "purple": "#D33682",
            "red": "#DC322F",
            "selectionBackground": "#FFFFFF",
            "white": "#EEE8D5",
            "yellow": "#B58900"
        },
        {
            "background": "#FDF6E3",
            "black": "#002B36",
            "blue": "#268BD2",
            "brightBlack": "#073642",
            "brightBlue": "#839496",
            "brightCyan": "#93A1A1",
            "brightGreen": "#586E75",
            "brightPurple": "#6C71C4",
            "brightRed": "#CB4B16",
            "brightWhite": "#FDF6E3",
            "brightYellow": "#657B83",
            "cursorColor": "#002B36",
            "cyan": "#2AA198",
            "foreground": "#657B83",
            "green": "#859900",
            "name": "Solarized Light",
            "purple": "#D33682",
            "red": "#DC322F",
            "selectionBackground": "#FFFFFF",
            "white": "#EEE8D5",
            "yellow": "#B58900"
        },
        {
            "background": "#000000",
            "black": "#000000",
            "blue": "#3465A4",
            "brightBlack": "#555753",
            "brightBlue": "#729FCF",
            "brightCyan": "#34E2E2",
            "brightGreen": "#8AE234",
            "brightPurple": "#AD7FA8",
            "brightRed": "#EF2929",
            "brightWhite": "#EEEEEC",
            "brightYellow": "#FCE94F",
            "cursorColor": "#FFFFFF",
            "cyan": "#06989A",
            "foreground": "#D3D7CF",
            "green": "#4E9A06",
            "name": "Tango Dark",
            "purple": "#75507B",
            "red": "#CC0000",
            "selectionBackground": "#FFFFFF",
            "white": "#D3D7CF",
            "yellow": "#C4A000"
        },
        {
            "background": "#FFFFFF",
            "black": "#000000",
            "blue": "#3465A4",
            "brightBlack": "#555753",
            "brightBlue": "#729FCF",
            "brightCyan": "#34E2E2",
            "brightGreen": "#8AE234",
            "brightPurple": "#AD7FA8",
            "brightRed": "#EF2929",
            "brightWhite": "#EEEEEC",
            "brightYellow": "#FCE94F",
            "cursorColor": "#000000",
            "cyan": "#06989A",
            "foreground": "#555753",
            "green": "#4E9A06",
            "name": "Tango Light",
            "purple": "#75507B",
            "red": "#CC0000",
            "selectionBackground": "#FFFFFF",
            "white": "#D3D7CF",
            "yellow": "#C4A000"
        },
        {
            "background": "#300A24",
            "black": "#171421",
            "blue": "#0037DA",
            "brightBlack": "#767676",
            "brightBlue": "#08458F",
            "brightCyan": "#2C9FB3",
            "brightGreen": "#26A269",
            "brightPurple": "#A347BA",
            "brightRed": "#C01C28",
            "brightWhite": "#F2F2F2",
            "brightYellow": "#A2734C",
            "cursorColor": "#FFFFFF",
            "cyan": "#3A96DD",
            "foreground": "#FFFFFF",
            "green": "#26A269",
            "name": "Ubuntu-20.04-ColorScheme",
            "purple": "#881798",
            "red": "#C21A23",
            "selectionBackground": "#FFFFFF",
            "white": "#CCCCCC",
            "yellow": "#A2734C"
        },
        {
            "background": "#000000",
            "black": "#000000",
            "blue": "#000080",
            "brightBlack": "#808080",
            "brightBlue": "#0000FF",
            "brightCyan": "#00FFFF",
            "brightGreen": "#00FF00",
            "brightPurple": "#FF00FF",
            "brightRed": "#FF0000",
            "brightWhite": "#FFFFFF",
            "brightYellow": "#FFFF00",
            "cursorColor": "#FFFFFF",
            "cyan": "#008080",
            "foreground": "#C0C0C0",
            "green": "#008000",
            "name": "Vintage",
            "purple": "#800080",
            "red": "#800000",
            "selectionBackground": "#FFFFFF",
            "white": "#C0C0C0",
            "yellow": "#808000"
        }
    ],
    "theme": "dark",
    "themes": [],
    "useAcrylicInTabRow": true
}
```

æ€»ç»“ä¸€ä¸‹ï¼š

* é»˜è®¤é…ç½®æ–‡ä»¶ï¼šé€‰æ‹©å¯¹åº” WSL çš„é‚£ä¸ªï¼Œå¦‚`Ubuntu-20.04`
* å­—ä½“ï¼š[Maple Mono NF](https://github.com/subframe7536/maple-font)
* å¿«æ·é”®ï¼šé‡‡ç”¨é»˜è®¤å¿«æ·é”®ï¼Œä½†æ˜¯æ³¨æ„ `Ctrl+v` è¿™ç§ä¼šå’Œ vim å†²çªçš„é”®ä½éœ€è¦æ”¹æ‰
* å¤–è§‚
  * å…‰æ ‡ï¼š`|`
  * é€æ˜åº¦ï¼š`80%`
  * äºšå…‹åŠ›ï¼šå¼€å¯
  * é…è‰²æ–¹æ¡ˆï¼š`Tango Dark`

è¿™é‡Œå†ç»™ä¸Šä¸¤ç¯‡æ–‡ç« ä»¥ä¾›å‚è€ƒï¼š

* [è®¾ç½® Windows Terminal](https://learn.microsoft.com/zh-cn/windows/wsl/setup/environment#set-up-windows-terminal)
* [Windows Terminal çš„å…¨é¢è‡ªå®šä¹‰](https://sspai.com/post/59380)

### å®‰è£… WSL ç¯å¢ƒ
>
> æ“ä½œå‚è€ƒï¼š
>
> * [å®‰è£… WSL](https://learn.microsoft.com/zh-cn/windows/wsl/install)
> * [è®¾ç½® WSL å¼€å‘ç¯å¢ƒ](https://learn.microsoft.com/zh-cn/windows/wsl/setup/environment)

æ‰“å¼€ PowerShell è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…

```powershell
## ä½¿ç”¨ç®¡ç†å‘˜è¿è¡Œ
wsl --install

## å®‰è£…å®Œæˆåå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å¯ä¾›å®‰è£…çš„ Linux å‘è¡Œç‰ˆ
wsl -l -o

# ä»¥ä¸‹æ˜¯å¯å®‰è£…çš„æœ‰æ•ˆåˆ†å‘çš„åˆ—è¡¨ã€‚
# ä½¿ç”¨ 'wsl.exe --install <Distro>' å®‰è£…ã€‚

# NAME                            FRIENDLY NAME
# Ubuntu                          Ubuntu
# Debian                          Debian GNU/Linux
# kali-linux                      Kali Linux Rolling
# Ubuntu-18.04                    Ubuntu 18.04 LTS
# Ubuntu-20.04                    Ubuntu 20.04 LTS
# Ubuntu-22.04                    Ubuntu 22.04 LTS
# Ubuntu-24.04                    Ubuntu 24.04 LTS
# OracleLinux_7_9                 Oracle Linux 7.9
# OracleLinux_8_7                 Oracle Linux 8.7
# OracleLinux_9_1                 Oracle Linux 9.1
# openSUSE-Leap-15.6              openSUSE Leap 15.6
# SUSE-Linux-Enterprise-15-SP5    SUSE Linux Enterprise 15 SP5
# SUSE-Linux-Enterprise-15-SP6    SUSE Linux Enterprise 15 SP6
# openSUSE-Tumbleweed             openSUSE Tumbleweed

## ä½¿ç”¨ wsl --install -d <Distribution Name> è¿›è¡Œå®‰è£…ï¼Œè¿™é‡Œæˆ‘ä»¬å®‰è£… Ubuntu
wsl --install -d Ubuntu
```

WSL çš„å¥½å¤„åœ¨äº Windows å’Œ Linux ä¹‹é—´çš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥äº’ç›¸è®¿é—®ï¼Œç½‘ç»œä¹Ÿå¯ä»¥é€šè¿‡ NAT æˆ–è€…æ¡¥æ¥æ‰“é€šï¼Œæ¯”ä¼ ç»Ÿçš„è™šæ‹Ÿæœºè¦æ–¹ä¾¿å¾ˆå¤šï¼ˆè™½ç„¶ WSL ä¹Ÿæ˜¯ä¸ªè™šæ‹Ÿæœºï¼‰ï¼Œä¸‹é¢æ”¾ä¸Šä¸€äº›æ–‡ç« ä»¥ä¾›å¤§å®¶å­¦ä¹ ï¼š

* [æ¯”è¾ƒ WSL ç‰ˆæœ¬](https://learn.microsoft.com/zh-cn/windows/wsl/compare-versions)
* [WSL2 å†…éƒ¨å®ç°æ¢ç©¶](https://jia.je/os/2023/10/03/wsl2-internals)
* [WSL åŸç†ä»‹ç»](https://hackmd.io/@billsun/Bkh8oAmGX?type=view)

### é…ç½® WSL ç¯å¢ƒ

ä½œä¸ºæ—¥å¸¸å·¥ä½œçš„ 80% ç”šè‡³æ˜¯ 90% çš„ç³»ç»Ÿç¯å¢ƒï¼Œé…ç½®ä¸€ä¸ªæ–¹ä¾¿å¥½ç”¨çš„ Linux èƒ½å¤Ÿç»™å·¥ä½œä½“éªŒå’Œæ•ˆç‡å¸¦æ¥æå¤§çš„æå‡ï¼Œæ­£æ‰€è°“ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œä¹±æ‹³æ‰“æ­»è€å¸ˆå‚…ã€‚è¿™é‡Œä»¥ Ubuntu ä¸ºä¾‹ï¼Œè®°å½•ä¸€ä¸‹ Linux ç¯å¢ƒçš„é…ç½®å†…å®¹ï¼š

```bash
# 1. æ›´æ¢è½¯ä»¶æº(æºæ˜¯ä»€ä¹ˆï¼Ÿ -->  https://flyflypeng.tech/%E5%88%A9%E5%99%A8/2016/10/24/Ubuntu%E8%BD%AF%E4%BB%B6%E6%BA%90%E8%AF%A6%E8%A7%A3.html)
## ä»¥å¾€éƒ½æ˜¯ç”¨ aliyun æºçš„ï¼Œæœ€è¿‘æ¯”è¾ƒå–œæ¬¢æ¸…åæº ~
sudo sed -i 's/archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list

# 2. å®‰è£…å¸¸ç”¨è½¯ä»¶
sudo apt install git net-tools vim tmux zsh dstat sysstat bat curl htop -y

# 3. tmux é…ç½®
## å¯¹äº tmux çš„é…ç½®ï¼Œæˆ‘è¿™é‡Œä»…æ¨è GitHub ä¸Šçš„å¼€æºé¡¹ç›® .tmux --> https://github.com/gpakosz/.tmuxï¼Œå…¶ä½™çš„å¤§å®¶å¯ä»¥è‡ªè¡Œå»ç½‘ç»œä¸Šæœç´¢
cd ~
git clone https://github.com/gpakosz/.tmux.git
ln -s -f .tmux/.tmux.conf
cp .tmux/.tmux.conf.local .

## é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä¸€èˆ¬è¿˜ä¼šé¢å¤–æ‰“å¼€ tmux çš„ä¸€äº›é…ç½®
set -g history-limit 10000    ## tmux é»˜è®¤çš„å†å²çºªå½•å¤ªå°‘äº†ï¼Œå¤šæç‚¹
set -g set-clipboard on    ## æ‰“å¼€é€‰ä¸­å¤åˆ¶ï¼Œå½“ç„¶ä½ å¯ä»¥ä½¿ç”¨ Windows terminal çš„é€‰ä¸­å¤åˆ¶åŠŸèƒ½
set -g mouse on    ## æ‰“å¼€é¼ æ ‡æ”¯æŒï¼Œè¿™æ ·å°±ä¸ç”¨ Ctrl+B åˆ‡æ¢ panel äº†

## å…³äº tmux ä½¿ç”¨çš„ä¸€äº›æ¨èé˜…è¯»ï¼š
## - https://www.ruanyifeng.com/blog/2019/10/tmux.html
## - https://pengfeixc.com/blogs/developer-handbook/tmux.html
## - https://www.escapelife.site/posts/1a9a72ec.html

# 4. Docker
## å®¹å™¨æŠ€æœ¯å·²ç»æˆä¸ºå½“å‰æœ€å»‰ä»·çš„æŠ€æœ¯äº†ï¼Œä½œä¸ºä¸€åè¿ç»´å·¥ç¨‹å¸ˆï¼Œdocker æ˜¯ä¸€ä¸ªå¿…çŸ¥å¿…ä¼šçš„æŠ€èƒ½ï¼Œä¸ç®¡ä½ æ—¥å¸¸ç”¨çš„å¤šè¿˜æ˜¯å°‘ï¼Œå…ˆæŠŠ docker åœ¨ä½ è‡ªå·±çš„ç³»ç»Ÿè£…ä¸Š
install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \
  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
  tee /etc/apt/sources.list.d/docker.list > /dev/null

apt-get update
apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
```

è¿™é‡Œå•ç‹¬è¯´ä¸€ä¸‹ zsh çš„é…ç½®ï¼Œé¦–å½“å…¶å†²çš„è‚¯å®šæ˜¯æŠŠ oh-my-zsh ç»™è£…ä¸Š

```bash
sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```

æ¥ç€è‚¯å®šæ˜¯è¦æ¢ä¸€ä¸ªç¾ç¾çš„çš®è‚¤ï¼ˆbushiï¼‰ï¼Œä¸»é¢˜çš„é…ç½®å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ [Themes|oh-my-zsh wiki](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes)ï¼Œæˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š

```bash
ZSH_THEME="powerlevel10k/powerlevel10k"
```

zsh å¯¹äºæˆ‘æ¥è¯´ï¼Œææ•ˆæœ€å¤§çš„è¿˜æ˜¯ä»–çš„ä¸€å †æ’ä»¶äº†ï¼Œè¿™é‡Œå…ˆè´´ä¸€ä¸‹å½“å‰å·²ç”¨çš„æ’ä»¶ï¼š

```bash
plugins=(
    zsh-ssh
    ssh-agent
    aliases
    zsh-autosuggestions
    safe-paste
    F-Sy-H
    z
    cp
    copyfile
    copybuffer
    copypath
    git
    fzf
    sudo
    kube-ps1
)
```

åƒå¸¸è§çš„ `zsh-autosuggestions`ã€`cp`ã€`git` ä»¥åŠ `sudo` ç­‰æ’ä»¶è¿™é‡Œå°±ä¸å¤šæåŠäº†ï¼ŒåŸºæœ¬ä¸Šæ˜¯ç½‘ä¸Šæåˆ°è¿‡æ¯”è¾ƒçš„å¥½ç”¨çš„æ’ä»¶äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå»æœç´¢ã€‚ä¸‹é¢æ¥è¯´ä¸€äº›æˆ‘ä¸ªäººè§‰å¾—å¾ˆå¥½ç”¨çš„æ’ä»¶ï¼š

1. [zsh-ssh](https://github.com/sunlei/zsh-ssh)
`zsh-ssh` æ˜¯æˆ‘ç›®å‰å¼ºæ¨çš„ä¸€ä¸ª zsh æ’ä»¶ï¼Œè¯¥æ’ä»¶ä¼šå»è¯»å– `~/.ssh/config` æ–‡ä»¶ä¸­çš„é…ç½®å¹¶é€šè¿‡ `fzf` å°†å…¶å¯äº¤äº’æ˜¾ç¤ºï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ç•Œé¢åŠ¨æ€å±•ç¤º ssh host åˆ—è¡¨å¹¶é€‰æ‹©è¿æ¥ã€‚ç”±äºè¯¥æ’ä»¶è¿˜ä¾èµ– `fzf`ï¼Œæ‰€ä»¥å…ˆå®‰è£… `fzf` å†å®‰è£… `zsh-ssh`ã€‚

    ```bash
    ## å®‰è£… fzf
    git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
    ~/.fzf/install
    
    cat << EOF > ~/.zshrc
    # Set up fzf key bindings and fuzzy completion
    source <(fzf --zsh)
    EOF
    source .zshrc

    ## å®‰è£… zsh-ssh
    git clone https://github.com/sunlei/zsh-ssh ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-ssh
    ```

    ä¸Šé¢è¯´åˆ°äº†ï¼Œ`zsh-ssh` è¿™ä¸ªæ’ä»¶æ˜¯è¯»å– `~/.ssh/config` æ–‡ä»¶ä¸­çš„é…ç½®æ¥æ˜¾ç¤º ssh host çš„ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦å°† ssh host ä¿¡æ¯å†™å…¥é…ç½®æ–‡ä»¶ï¼Œæˆ‘è‡ªå·±æ˜¯å†™äº†ä¸€ä¸ªè„šæœ¬æ¥ç”Ÿæˆ ssh hostï¼Œå…·ä½“çš„é…ç½®æ ¼å¼å‚è€ƒå¦‚ä¸‹ï¼š

    ```bash
    Host Bastion-Host
    Hostname 1.1.1.1
    User sunlei
 
    Host Development-Host
    Hostname 2.2.2.2
    IdentityFile ~/.ssh/development-host
    #_Desc For Development
    ```

1. [F-sy-H](https://github.com/z-shell/F-Sy-H)
ç›¸è¾ƒäºç½‘ä¸Šæ–‡æ¡£é‡Œè¯´çš„æ¯”è¾ƒå¤šçš„[zsh-users/zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting)ï¼Œ`F-sy-H` æ’ä»¶çš„é«˜äº®é…è‰²ä¼šæ›´åŠ ä¸°å¯Œä¸€äº›ï¼Œè™½ç„¶æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œä½†æ˜¯å¥½çœ‹å°±å®Œäº‹äº†

    ```bash
    git clone https://github.com/z-shell/F-Sy-H.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/F-Sy-H
    ```

1. [kube-ps1](https://github.com/jonmosco/kube-ps1)
`kube-ps1` æ’ä»¶æ˜¯ç”¨æ¥æ˜¾ç¤ºå½“å‰æ‰€åº”ç”¨çš„ K8s é›†ç¾¤ä¿¡æ¯çš„ï¼Œç”±äºå·²ç»è¢« zsh é›†æˆä¸ºé»˜è®¤æ’ä»¶äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦çš„å•ç‹¬å®‰è£…ï¼Œç›´æ¥åœ¨ `~/.zshrc` ä¸­é…ç½®å³å¯

    ```bash
    ## é™¤äº†é…ç½® plugins å¤–ï¼Œè¿˜éœ€è¦æ·»åŠ  PROMPT å˜é‡
    PROMPT='$(kube_ps1)'$PROMPT # or RPROMPT='$(kube_ps1)'
    ```

1. [z](https://github.com/agkozak/zsh-z)
`z` æ’ä»¶ä¼šåŸºäºå†å²è®¿é—®è¿‡çš„ç›®å½•è¿›è¡Œå¿«é€Ÿè·³è½¬ï¼Œæ— éœ€è¾“å…¥å…¨è·¯å¾„å³å¯è·³è½¬ï¼ŒæŒ‰ä¸‹ `tab` é”®å³å¯æ˜¾ç¤ºå†å²ç›®å½•åˆ—è¡¨ï¼Œé€‰æ‹©åå›è½¦å³å¯è·³è½¬ã€‚`z` å·²ç»è¢«é›†æˆè¿› zsh é»˜è®¤æ’ä»¶åˆ—è¡¨ï¼Œæ— éœ€å•ç‹¬å®‰è£…ã€‚

1. [ssh-agent](https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/ssh-agent)
æ—¢ç„¶æˆ‘ä»¬éƒ½è¿™ä¹ˆä¾èµ– ssh æ¥å·¥ä½œäº†ï¼Œé‚£ä¹ˆ `ssh-agent` æ’ä»¶å°±å¿…ä¸å¯å°‘ï¼Œè¯¥æ’ä»¶ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è®¾ç½®ä¸€äº› ssh-agent ç›¸å…³çš„é…ç½®ï¼ŒåŠ è½½ credentialsã€‚ç”±äºè¯¥æ’ä»¶æ˜¯ zsh é»˜è®¤çš„æ’ä»¶ï¼Œæ‰€ä»¥æ— éœ€å•ç‹¬å®‰è£…ï¼Œç›´æ¥åœ¨ `~/.zshrc` ä¸­é…ç½®å³å¯

    ```bash
    ## é…ç½® agent-forwading
    zstyle :omz:plugins:ssh-agent agent-forwarding yes

    ## é…ç½® identities
    zstyle :omz:plugins:ssh-agent identities id_rsa id_rsa2 id_github    ## å¦‚æœ identities ä¸åœ¨ ~/.ssh ç›®å½•ä¸‹ï¼Œåˆ™è¦å†™ç»å¯¹è·¯å¾„
    ```
